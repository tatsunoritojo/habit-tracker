# 習慣継続×軽量SNSアプリ 設計意図・経緯ドキュメント

## 基本情報

| 項目 | 内容 |
|------|------|
| ドキュメント種別 | 設計意図・経緯の整理 |
| 作成日 | 2025年12月7日 |
| 作成者 | プロジェクトマネージャー |
| 目的 | 仕様書更新に向けた暗黙知の言語化 |

---

## 1. プロジェクトの核心理念

### 1.1 コアコンセプト：「繋がりすぎない繋がり」

このアプリの最も重要な設計思想は**「繋がりすぎない繋がり」**です。

**背景にある課題：**
- 習慣を一人で続けるのは難しい
- しかし、既存SNS（X、Instagram等）は情報量が多く「SNS疲れ」を引き起こす
- 「勉強垢」のような文化はあるが、テキストコミュニケーションのコストが高い

**解決策：**
- テキスト・音声コミュニケーションを**完全に排除**
- リアクション（エール）のみで「人の存在を感じられる」程度の繋がり
- アプリ主導のマッチングで、ユーザーが能動的に探さなくてよい

### 1.2 設計原則（全機能に適用）

| 原則 | 内容 | 具体例 |
|------|------|--------|
| 軽さ最優先 | 1タップで完結、コミュニケーションコストゼロ | 記録は1タップ、エールは3種から選ぶだけ |
| 匿名性 | プロフィール不要、記録とリアクションだけの関係 | 「筋トレの仲間」としか表示しない |
| アプリ主導 | マッチングもエール提案もアプリがコントロール | ユーザーは「送る/送らない」を選ぶだけ |
| ポジティブ体験 | 失敗を責めない、再開を称える | ストリーク非強調、復活バッジ |

---

## 2. 機能別の設計意図

### 2.1 習慣記録機能

**なぜ「カード」という概念か：**
- 視覚的に「タップする対象」が明確
- 複数の習慣を「並べて管理」できる
- ゲームのアイテムカードのような親しみやすさ

**なぜ1タップ記録か：**
- 行動心理学のFogg Behavior Model（実行しやすさを最大化）
- 「今日やったかどうか」だけを記録（量や質は問わない）
- 記録のハードルを極限まで下げることで継続率向上

### 2.2 カレンダー・統計表示

**なぜ「達成日」を強調し「未達成日」を目立たせないか：**
- 「穴」が目立つと罪悪感を喚起し、離脱につながる
- 「今週○日達成」のような**累積指標**で前向きな気持ちを維持
- ストリーク（連続日数）はサブ表示に留める

**設計判断の根拠：**
- 完璧主義ユーザーへの配慮（1日途切れただけで諦めるリスク）
- セルフ・コンパッションの考え方（失敗を責めない）

### 2.3 リアクション（エール）設計

**なぜ3種類に限定したか：**

| リアクション | 意味 | 選定理由 |
|--------------|------|----------|
| 💪 ナイス継続 | 継続への励まし | 基礎的な応援、最も使いやすい |
| ⭐ すごい！ | 節目・成長の称賛 | 特別な達成時のハイライト |
| 🤝 一緒にがんばろ | 伴走感・仲間感 | 同じ習慣を続ける共感 |

**不採用にしたもの：**
- 「尊敬」→ 日常の小さな習慣には重すぎる
- 「負けないぞ」→ 攻撃的に受け取られるリスク、競争要素の排除
- 多数の絵文字 → 認知負荷が高く「迷い」が生じる

**設計思想：**
- 「応援」「称賛」「共感」の3軸でポジティブ感情をカバー
- 迷わず選べることを優先（3秒以内に決められる）

### 2.4 マッチング設計

**なぜカテゴリベース（L3）でマッチングするか：**
- 「人」ではなく「行動」起点の繋がり
- 同じ習慣を持つ人同士の方が共感しやすい
- 匿名性を維持しながら意味のある繋がりを提供

**マッチングプールの設計：**
- 30分ごとにバッチ更新（リアルタイム性と負荷のバランス）
- 直近7日以内に記録があるユーザーのみ対象（アクティブユーザー限定）

### 2.5 AIエール + 人間エールの併用

**なぜAIエールを導入したか：**
- コールドスタート問題への対策（初期ユーザーが少ない時期）
- 「誰かが応援してくれている」感覚を常に提供
- 人間エールが増えても、AIエールは継続（補完関係）

**AIと人間の区別を見せない理由：**
- どちらも「ハビット仲間」として自然に混在
- ユーザーは「応援されている」と感じればよい
- AI/人間を意識させると体験が分断される

### 2.6 通知設計

**NGワード（絶対に使わない表現）：**
- 「まだ」「サボり」「やっていません」→ 罪悪感喚起
- 「〜しなさい」「〜すべき」→ 命令形
- 「ストリークが失われます」→ 脅迫的表現

**推奨トーン：**
- 優しく誘う：「〜してみませんか？」
- 選択を尊重：「1タップで記録できます」
- ポジティブ：「今日も一緒にがんばろう」

### 2.7 ゲーミフィケーション設計

**なぜ「軽さ」を優先したか：**
- Habiticaのような重いRPG化は、このアプリのコンセプトに合わない
- ゲーム要素が主役になると「習慣継続」という本質が薄れる

**バッジ設計の意図：**

| バッジ | 条件 | 意図 |
|--------|------|------|
| 🥉 3日継続 | 連続3日 | スタートの称賛（最初のハードル） |
| 🥈 7日継続 | 連続7日 | 習慣形成の入口（1週間は心理的節目） |
| 🥇 21日継続 | 連続21日 | 習慣化の目安（21日ルールへのオマージュ） |
| 💎 100回達成 | 累計100回 | 長期継続の称賛（ストリークに依存しない指標） |
| ❤️‍🔥 復活の一歩 | 中断後3日再開 | **最も重要**：再開を称える文化の醸成 |

**復活の一歩バッジの重要性：**
- 「失敗しても戻ってきていい」というメッセージ
- 完璧主義の呪縛からの解放
- 離脱ユーザーの再エンゲージメント

### 2.8 アーカイブ機能

**削除とアーカイブを分けた理由：**

| 操作 | データ | 再開 | ユースケース |
|------|--------|------|--------------|
| 削除 | 完全消去 | 不可 | 二度とやらない習慣 |
| アーカイブ | 保持（非表示） | 可能 | 一時停止、季節的習慣 |

**アーカイブの位置づけ：**
- 単なる「一時停止」ではなく「達成の記録を振り返る場所」
- 累計達成日数、最長連続日数を強調表示
- 「これだけ続けた」という達成感の可視化

### 2.9 オンボーディング設計

**「まず1つだけ」を強調する理由：**
- 複数習慣の同時立ち上げは失敗しやすい
- 1つの習慣が定着してから2つ目を追加する方が成功率が高い
- 初週でエール体験（送受信両方）を完了させる

**1週間の体験設計の意図：**

| Day | 体験 | 意図 |
|-----|------|------|
| 0 | 初回起動、1カード作成 | 最小限の設定で開始 |
| 1-2 | エール受信体験 | 「仲間がいる」感覚の獲得 |
| 3-4 | エール送信体験 | 「応援する側」の体験 |
| 5-7 | 振り返り | 継続の実感、2枚目提案 |

---

## 3. 技術選定の意図

### 3.1 React Native + Expo

**選定理由：**
- クロスプラットフォーム対応（Android優先、iOS将来対応）
- 開発速度の速さ（ホットリロード、豊富なライブラリ）
- 個人開発者でも管理可能な技術スタック

### 3.2 Firebase

**選定理由：**
- 匿名認証のサポート（プロフィール不要のコンセプトに合致）
- Firestoreのリアルタイム同期（エール通知に活用）
- Cloud Functionsでバックエンドロジックを実装可能

### 3.3 匿名認証を採用した理由

- 「すぐに始められる」体験を最優先
- メールアドレス登録のハードルを排除
- 将来的にアカウント昇格（メール/SNS連携）も可能な設計

---

## 4. 将来の拡張に対する考慮

### 4.1 MVP段階では実装しないが、設計上考慮したもの

| 機能 | 理由 | 将来の方向性 |
|------|------|--------------|
| カスタムカード共有 | 管理コスト | コミュニティ成熟後に検討 |
| 掲示板機能 | モデレーション負荷 | テキストなしの原則を維持 |
| ランキング | 競争要素の排除 | 導入予定なし |
| プロフィール公開 | 匿名性の維持 | 導入予定なし |

### 4.2 データモデルの拡張性

- `cards.is_custom` フラグ：将来のカスタムカード共有に対応
- `cards.status` フラグ：アーカイブ以外の状態追加に対応可能
- `reactions.reason` フィールド：AIと人間の区別、将来の分析に活用

---

## 5. 重要な設計判断の経緯

### 5.1 エール頻度の調整

**議論の経緯：**
- 初期案：ユーザーが完全にコントロール
- 最終決定：`high/medium/low/off` の4段階 + お休みモード

**理由：**
- 細かすぎる設定は認知負荷
- 「通知疲れ」を防ぎつつ、適度な繋がりを維持

### 5.2 AIエールの文言設計

**バリエーション数：68種類**

**設計思想：**
- 同じ文言の繰り返しを避ける（ロボット感の排除）
- 状況に応じた4パターン（記録直後、翌日、長期離脱、ランダム）
- 自然な遅延（5〜30分）で「リアルタイム監視感」を排除

### 5.3 匿名性の維持方法

**表示ルール：**
- ユーザーIDは絶対に表示しない
- カードタイトルも表示しない
- 「{カテゴリ名}の仲間」としてのみ表示

**例：**
- ❌「user_abc123があなたを応援しました」
- ❌「『毎朝ストレッチ』の誰かがあなたを応援しました」
- ✅「筋トレの仲間からエールが届きました」

---

## 6. 仕様書更新時の注意点

### 6.1 維持すべき設計思想

以下は絶対に変更しないでください：

1. **テキストコミュニケーションの排除** - これがアプリの根幹
2. **匿名性の維持** - プロフィール公開は導入しない
3. **失敗を責めない設計** - ストリーク途切れを強調しない
4. **軽さの優先** - 機能追加時も「1タップで完結するか」を問う

### 6.2 コードと仕様の乖離が許容される箇所

| 箇所 | 許容理由 |
|------|----------|
| 文言のバリエーション | 運用中に追加・調整可能 |
| バッジの閾値 | ユーザーフィードバックで調整可能 |
| 通知タイミング | 最適化のため調整可能 |

### 6.3 コードと仕様が一致すべき箇所

| 箇所 | 理由 |
|------|------|
| データモデル | 互換性・移行に影響 |
| セキュリティルール | 脆弱性に直結 |
| 画面遷移 | UX一貫性に影響 |

---

## 改訂履歴

| バージョン | 日付 | 変更内容 |
|------------|------|----------|
| 1.0 | 2025-12-07 | 初版作成 |
