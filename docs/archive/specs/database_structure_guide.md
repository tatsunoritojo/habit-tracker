# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã‚¬ã‚¤ãƒ‰

**ä½œæˆæ—¥**: 2025å¹´12æœˆ8æ—¥  
**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ8æ—¥  
**å¯¾è±¡**: Firebase Cloud Firestore  

---

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Habit Trackerã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã™ã‚‹Firestoreãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ ã‚’èª¬æ˜ã—ã¾ã™ã€‚
ä»Šå¾Œã®é–‹ç™ºè€…ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã‚’æ­£ç¢ºã«æŠŠæ¡ã—ã€æ•´åˆæ€§ã‚’ä¿ã£ãŸå®Ÿè£…ãŒã§ãã‚‹ã‚ˆã†ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³å | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆID | èª¬æ˜ | Phase |
|---------------|---------------|------|-------|
| users | {uid} | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± | - |
| cards | {è‡ªå‹•ç”Ÿæˆ} | ç¿’æ…£ã‚«ãƒ¼ãƒ‰ | - |
| logs | {è‡ªå‹•ç”Ÿæˆ} | é”æˆãƒ­ã‚° | - |
| categories | {category_id} | ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ï¼ˆ3éšå±¤ï¼‰ | - |
| card_templates | {template_id} | ã‚«ãƒ¼ãƒ‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ | - |
| matching_pools | {category_l3} | ãƒãƒƒãƒãƒ³ã‚°ãƒ—ãƒ¼ãƒ« | Phase 8 |
| reactions | {è‡ªå‹•ç”Ÿæˆ} | ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚¨ãƒ¼ãƒ«ï¼‰ | Phase 7/8 |
| cheer_state | {uid} | AIã‚¨ãƒ¼ãƒ«çŠ¶æ…‹ç®¡ç† | Phase 7 |
| cheer_send_state | {uid} | äººé–“ã‚¨ãƒ¼ãƒ«é€ä¿¡åˆ¶é™ | Phase 8 |
| favorites | {è‡ªå‹•ç”Ÿæˆ} | ãŠæ°—ã«å…¥ã‚Š | Phase 10-A |

---

## 1. users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨­å®šã¨çµ±è¨ˆæƒ…å ±ã‚’ç®¡ç†ã—ã¾ã™ã€‚

```typescript
users/{uid}
{
  uid: string;                      // Firebase Auth UIDï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆIDã¨åŒä¸€ï¼‰
  display_name?: string;            // Phase 9.5: ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆä»»æ„ã€è¡¨ç¤ºç”¨ï¼‰
  created_at: Timestamp;            // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥æ™‚
  last_login_at: Timestamp;         // æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³æ—¥æ™‚
  
  settings: {
    cheer_frequency: 'high' | 'medium' | 'low' | 'off';  // AIã‚¨ãƒ¼ãƒ«é »åº¦
    push_enabled: boolean;          // ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ON/OFF
    timezone: string;               // ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ï¼ˆä¾‹: "Asia/Tokyo"ï¼‰
    
    // Phase 7: ã‚¨ãƒ¼ãƒ«é€šçŸ¥è¨­å®š
    notification_mode: 'realtime' | 'batch';  // å³æ™‚ or ã¾ã¨ã‚ã¦é€šçŸ¥
    batch_times: string[];          // ã¾ã¨ã‚ã¦é€šçŸ¥æ™‚åˆ»ï¼ˆä¾‹: ["12:00", "18:00"]ï¼‰
    quiet_hours_enabled: boolean;   // ãŠä¼‘ã¿ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–
    quiet_hours_start: string;      // ãŠä¼‘ã¿é–‹å§‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "23:00"ï¼‰
    quiet_hours_end: string;        // ãŠä¼‘ã¿çµ‚äº†ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "07:00"ï¼‰
    
    fcm_token?: string | null;      // FCMãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ãƒˆãƒ¼ã‚¯ãƒ³
  };
  
  stats: {
    total_cards: number;            // ä½œæˆã‚«ãƒ¼ãƒ‰æ•°
    total_logs: number;             // ç·è¨˜éŒ²å›æ•°
    current_streak_max: number;     // ç¾åœ¨ã®æœ€é•·ã‚¹ãƒˆãƒªãƒ¼ã‚¯
    cheers_received: number;        // å—ã‘å–ã£ãŸã‚¨ãƒ¼ãƒ«æ•°
    cheers_sent: number;            // é€ã£ãŸã‚¨ãƒ¼ãƒ«æ•°
  };
}
```

---

## 2. cards ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

ç¿’æ…£ã‚«ãƒ¼ãƒ‰ã‚’ç®¡ç†ã—ã¾ã™ã€‚

```typescript
cards/{cardId}
{
  card_id: string;                  // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆIDï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
  owner_uid: string;                // æ‰€æœ‰è€…UID
  
  // ã‚«ãƒ†ã‚´ãƒªï¼ˆ3éšå±¤ï¼‰
  category_l1: string;              // å¤§ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹: "health"ï¼‰
  category_l2: string;              // ä¸­ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹: "health:exercise"ï¼‰
  category_l3: string;              // å°ã‚«ãƒ†ã‚´ãƒªï¼ˆä¾‹: "health:exercise:muscle_training"ï¼‰
  
  // ã‚«ãƒ¼ãƒ‰æƒ…å ±
  title: string;                    // ã‚«ãƒ¼ãƒ‰ã‚¿ã‚¤ãƒˆãƒ«
  template_id: string | null;       // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆIDï¼ˆã‚ªãƒªã‚¸ãƒŠãƒ«ã¯"custom"ï¼‰
  is_custom: boolean;               // ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚«ãƒ¼ãƒ‰ãƒ•ãƒ©ã‚°
  
  // å…¬é–‹è¨­å®š
  is_public: boolean;               // âš ï¸ DEPRECATEDï¼ˆPhase 9.5ï¼‰
  is_public_for_cheers?: boolean;   // Phase 9.5: ã‚¨ãƒ¼ãƒ«ã‚’å—ã‘å–ã‚‹
  is_public_for_template?: boolean; // Phase 9.5: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã—ã¦å…¬é–‹
  
  // çµ±è¨ˆï¼ˆéæ­£è¦åŒ–ï¼‰
  current_streak: number;           // ç¾åœ¨ã®é€£ç¶šæ—¥æ•°
  longest_streak: number;           // æœ€é•·é€£ç¶šæ—¥æ•°
  total_logs: number;               // ç·è¨˜éŒ²å›æ•°
  last_log_date: string;            // æœ€çµ‚è¨˜éŒ²æ—¥ï¼ˆ"YYYY-MM-DD"ï¼‰
  
  // Phase 9: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç†
  status: 'active' | 'archived';    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ– or ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
  archived_at?: Timestamp | null;   // ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ—¥æ™‚
  
  // Phase 9: ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼è¨­å®š
  reminder_enabled?: boolean;       // ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ON/OFF
  reminder_time?: string | null;    // ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼æ™‚åˆ»ï¼ˆ"HH:mm"ï¼‰
  
  created_at: Timestamp;
  updated_at: Timestamp;
}
```

### âš ï¸ å…¬é–‹è¨­å®šã®ç§»è¡Œï¼ˆPhase 9.5ï¼‰

| æ—§ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | æ„å‘³ |
|-------------|-------------|------|
| `is_public: true` | `is_public_for_cheers: true, is_public_for_template: true` | ä¸¡æ–¹å…¬é–‹ |
| `is_public: false` | `is_public_for_cheers: false, is_public_for_template: false` | ä¸¡æ–¹éå…¬é–‹ |

- æ–°è¦ã‚«ãƒ¼ãƒ‰ä½œæˆæ™‚ã¯ `is_public: false` ã‚’è¨­å®šã—ã€æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨
- æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã¯ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿ï¼ˆ`scripts/migratePublicSettings.js`ï¼‰

---

## 3. categories ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

3éšå±¤ã®ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚

```typescript
categories/{categoryId}
{
  category_id: string;              // ã‚«ãƒ†ã‚´ãƒªIDï¼ˆå‘½åè¦å‰‡ã¯ä¸‹è¨˜å‚ç…§ï¼‰
  level: 1 | 2 | 3;                 // éšå±¤ãƒ¬ãƒ™ãƒ«
  parent_id: string | null;         // è¦ªã‚«ãƒ†ã‚´ãƒªIDï¼ˆL1ã¯nullï¼‰
  
  name_ja: string;                  // æ—¥æœ¬èªå
  name_en: string;                  // è‹±èªå
  icon: string;                     // çµµæ–‡å­—ã‚¢ã‚¤ã‚³ãƒ³
  sort_order: number;               // è¡¨ç¤ºé †
  is_active: boolean;               // æœ‰åŠ¹ãƒ•ãƒ©ã‚°
}
```

### ã‚«ãƒ†ã‚´ãƒªIDå‘½åè¦å‰‡

| ãƒ¬ãƒ™ãƒ« | å½¢å¼ | ä¾‹ |
|--------|------|-----|
| L1 | `{category}` | `health` |
| L2 | `{category}:{subcategory}` | `health:exercise` |
| L3 | `{category}:{subcategory}:{item}` | `health:exercise:muscle_training` |

### ç¾åœ¨ã®ã‚«ãƒ†ã‚´ãƒªæ§‹é€ 

```
health (ğŸ’ª å¥åº·)
â”œâ”€ health:exercise (é‹å‹•)
â”‚  â”œâ”€ health:exercise:muscle_training (ç­‹ãƒˆãƒ¬)
â”‚  â”œâ”€ health:exercise:walking (ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°)
â”‚  â””â”€ health:exercise:stretching (ã‚¹ãƒˆãƒ¬ãƒƒãƒ)
â”œâ”€ health:eating (é£Ÿäº‹)
â”‚  â””â”€ ...
â””â”€ health:sleep (ç¡çœ )
   â””â”€ ...

study (ğŸ“š å­¦ç¿’)
â”œâ”€ study:language (èªå­¦)
â”œâ”€ study:reading (èª­æ›¸)
â””â”€ study:skill (ã‚¹ã‚­ãƒ«ç¿’å¾—)

lifestyle (ğŸ  ç”Ÿæ´»ç¿’æ…£)
â”œâ”€ lifestyle:cleaning (æƒé™¤ãƒ»æ•´ç†)
â”œâ”€ lifestyle:finance (ãŠé‡‘ãƒ»ç¯€ç´„)
â””â”€ lifestyle:routine (ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³)

creative (ğŸ¨ å‰µä½œ)
â”œâ”€ creative:art (ã‚¢ãƒ¼ãƒˆãƒ»æç”»)
â”œâ”€ creative:music (éŸ³æ¥½)
â””â”€ creative:writing (ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°)

mindfulness (ğŸ§˜ ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹)
â”œâ”€ mindfulness:meditation (ç‘æƒ³)
â”œâ”€ mindfulness:gratitude (æ„Ÿè¬)
â””â”€ mindfulness:self_care (ã‚»ãƒ«ãƒ•ã‚±ã‚¢)
```

---

## 4. card_templates ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç®¡ç†ã—ã¾ã™ã€‚

```typescript
card_templates/{templateId}
{
  template_id: string;              // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆID
  
  category_l1: string;              // å¤§ã‚«ãƒ†ã‚´ãƒª
  category_l2: string;              // ä¸­ã‚«ãƒ†ã‚´ãƒª
  category_l3: string;              // å°ã‚«ãƒ†ã‚´ãƒª
  
  title_ja: string;                 // æ—¥æœ¬èªã‚¿ã‚¤ãƒˆãƒ«
  title_en: string;                 // è‹±èªã‚¿ã‚¤ãƒˆãƒ«
  description_ja: string | null;    // æ—¥æœ¬èªèª¬æ˜
  
  icon: string;                     // çµµæ–‡å­—ã‚¢ã‚¤ã‚³ãƒ³
  sort_order: number;               // è¡¨ç¤ºé †
  is_official: boolean;             // å…¬å¼ãƒ•ãƒ©ã‚°ï¼ˆå¸¸ã«trueï¼‰
  is_active: boolean;               // æœ‰åŠ¹ãƒ•ãƒ©ã‚°
  created_at: Timestamp;
}
```

---

## 5. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ»å…¬é–‹ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯

### select-card.tsx ã®è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠç”»é¢                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  â‘  å…¬å¼ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (card_templates)               â”‚
â”‚     - is_official: true                             â”‚
â”‚     - is_active: true                               â”‚
â”‚                                                     â”‚
â”‚  â‘¡ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (cards)                 â”‚
â”‚     - is_public_for_template: true                  â”‚
â”‚     - is_custom: true                               â”‚
â”‚     - status: 'active'                              â”‚
â”‚     - é¡ä¼¼ã‚«ãƒ¼ãƒ‰é‡è¤‡æ’é™¤ï¼ˆ80%é–¾å€¤ï¼‰                 â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¨ãƒ¼ãƒ«ææ¡ˆå¯¾è±¡ï¼ˆcheers.tsxï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ã‚¨ãƒ¼ãƒ«ææ¡ˆå¯¾è±¡ã‚«ãƒ¼ãƒ‰ (matching_poolsçµŒç”±)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  æ¡ä»¶:                                              â”‚
â”‚  - is_public_for_cheers: true                       â”‚
â”‚  - ç›´è¿‘7æ—¥ä»¥å†…ã«è¨˜éŒ²ã‚ã‚Š                            â”‚
â”‚  - åŒã˜ã‚«ãƒ†ã‚´ãƒªL3                                   â”‚
â”‚  - è‡ªåˆ†è‡ªèº«ã®ã‚«ãƒ¼ãƒ‰ã‚’é™¤å¤–                           â”‚
â”‚  - 24æ™‚é–“ä»¥å†…ã«é€ä¿¡æ¸ˆã¿ã‚’é™¤å¤–                       â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«

ç¾åœ¨ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ï¼ˆ`firestore.rules`å‚ç…§ï¼‰ï¼š

| ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ | read | create | update/delete |
|-------------|------|--------|---------------|
| users | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ |
| cards | æœ¬äºº or å…¬é–‹è¨­å®šãŒtrue | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ |
| logs | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ |
| categories | å…¨å“¡ | ç¦æ­¢ | âš ï¸ å…¨å“¡ï¼ˆãƒ¡ãƒ³ãƒ†ç”¨ã€è¦ä¿®æ­£ï¼‰ |
| card_templates | èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ç¦æ­¢ | ç¦æ­¢ |
| matching_pools | èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ç¦æ­¢ | ç¦æ­¢ |
| reactions | å—ä¿¡è€…ã®ã¿ | é€ä¿¡è€… or "system" | å—ä¿¡è€…ã®ã¿ |
| cheer_state | æœ¬äººã®ã¿ | ç¦æ­¢ | ç¦æ­¢ |
| cheer_send_state | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ |
| favorites | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ | æœ¬äººã®ã¿ï¼ˆupdateç¦æ­¢ï¼‰ |

### âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

1. **categories.delete ãŒå…¨å“¡è¨±å¯** - ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ç”¨ã®ä¸€æ™‚è¨­å®šã€‚æœ¬ç•ªå‰ã«ä¿®æ­£å¿…è¦
2. **reactions.create** - `from_uid="system"` ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å½è£…å¯èƒ½ã€‚Phase 10ã§å¯¾ç­–äºˆå®š

---

## 7. ãƒ‡ãƒ¼ã‚¿ã‚·ãƒ¼ãƒ‰

åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼š

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ |
|-----------|---------|------|
| seedCategories.ts | `npm run seed:categories` | ã‚«ãƒ†ã‚´ãƒªãƒã‚¹ã‚¿ï¼ˆç´„50ä»¶ï¼‰ |
| seedTemplates.ts | `npm run seed:templates` | ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ22ä»¶ï¼‰ |

---

## 8. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | å¯¾è±¡ | èª¬æ˜ |
|-----------|------|------|
| migratePublicSettings.js | cards | `is_public` â†’ æ–°å…¬é–‹è¨­å®šã¸ç§»è¡Œ |

å®Ÿè¡Œæ–¹æ³•ï¼š
```bash
node scripts/migratePublicSettings.js
```

---

## æ”¹è¨‚å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025-12-08 | 1.0 | åˆç‰ˆä½œæˆã€‚Phase 9.5æ™‚ç‚¹ã®ã‚¹ã‚­ãƒ¼ãƒã‚’æ–‡æ›¸åŒ– |
| 2025-12-08 | 1.1 | Phase 10-A: favoritesã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ  |

---

## 9. favorites ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆPhase 10-Aï¼‰

ãŠæ°—ã«å…¥ã‚Šã®ä»²é–“ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã‚¨ãƒ¼ãƒ«ææ¡ˆã§å„ªå…ˆè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```typescript
favorites/{docId}
{
  doc_id: string;              // auto-generated
  owner_uid: string;           // ãŠæ°—ã«å…¥ã‚Šç™»éŒ²ã—ãŸäººã®UID
  target_uid: string;          // ãŠæ°—ã«å…¥ã‚Šå¯¾è±¡ã®UID
  target_card_id: string;      // å¯¾è±¡ã®ã‚«ãƒ¼ãƒ‰ID
  category_l3: string;         // ãƒãƒƒãƒãƒ³ã‚°ã‚«ãƒ†ã‚´ãƒªï¼ˆæ¤œç´¢ç”¨ï¼‰
  created_at: Timestamp;
}
```

### è¨­è¨ˆã®ãƒã‚¤ãƒ³ãƒˆ

- **ç™»éŒ²ä¸Šé™**: 10äºº
- **ç›¸æ‰‹ã¸ã®é€šçŸ¥**: ãªã—ï¼ˆãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…®ï¼‰
- **æ›´æ–°**: ä¸å¯ï¼ˆå‰Šé™¤ã—ã¦å†ä½œæˆï¼‰
